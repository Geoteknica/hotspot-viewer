<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puerto Rico Hotspot Analysis Viewer</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
      <div id="welcome-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üó∫Ô∏è An√°lisis de Concentraci√≥n de Instalaciones de Salud en Puerto Rico</h2>
            </div>
            
            <div class="modal-body">
                <h3>¬øQu√© es un an√°lisis de concentraci√≥n (Hotspot)?</h3>
                <p>
                    El an√°lisis de concentraci√≥n es un m√©todo estad√≠stico espacial que identifica √°reas con 
                    agrupamientos estad√≠sticamente significativos de instalaciones. En esta aplicaci√≥n,
                revelan patrones geogr√°ficos en la distribuci√≥n de instalaciones de salud 
                    a trav√©s de Puerto Rico.
                </p>
                
                <h3>C√≥mo interpretar este an√°lisis</h3>
                <p>
                    <strong>Las √°reas de alta intensidad (colores rojos/oscuros)</strong> indican regiones con 
                    una alta concentraci√≥n de instalaciones de salud, mientras que <strong>las √°reas de baja 
                    intensidad (colores claros)</strong> muestran regiones con menos instalaciones.
                </p>
                      
                <h3>Consideraciones importantes</h3>
                <div class="caveat-box">
                    <p><strong>‚ö†Ô∏è Algunas salvedades:</strong></p>
                    <ul>
                        <li><strong>An√°lisis estad√≠stico:</strong> El an√°lisis de concentraci√≥n representa patrones de 
                        agrupamiento espacial, no necesariamente la calidad o capacidad del servicio</li>
                        <li><strong>Actualidad de datos:</strong> El an√°lisis refleja las ubicaciones de las 
                        instalaciones al momento de la recopilaci√≥n de datos y puede no incluir cambios recientes</li>
                        <li><strong>Fuente de datos:</strong> Alguna de esta informaci√≥n proviene de Google Maps, 
                            la capa pas√≥ por una revisi√≥n de calidad, no obstante recomendamos verificar los datos en campo para decisiones cr√≠ticas.</li>
                        <li><strong>M√∫ltiples factores:</strong> La accesibilidad depende de muchos factores m√°s 
                        all√° de la distribuci√≥n espacial (transporte, horarios de operaci√≥n, especialidades, capacidad)</li>
                        <li><strong>Herramienta de Planificaci√≥n:</strong> Este an√°lisis debe usarse junto con otras 
                        fuentes de datos para una planificaci√≥n integral de la atenci√≥n m√©dica</li>
                    </ul>
                </div>
                
                <h3>C√≥mo usar esta herramienta</h3>
                <p>
                    Use los controles a la derecha para seleccionar diferentes tipos de instalaciones, ajustar 
                    la opacidad de la capa y cambiar el mapa base. Haga clic y arrastre para desplazarse, use 
                    la rueda del mouse para hacer zoom, y consulte la leyenda para entender los niveles de intensidad.
                </p>
            </div>
            
            <div class="modal-footer">
                <label class="checkbox-label">
                    <input type="checkbox" id="dont-show-again">
                    No mostrar esto de nuevo
                </label>
                <button id="close-modal" class="btn-primary">Comenzar</button>
            </div>
        </div>
    </div>

    <div id="map"></div>
    <!-- Company Logo -->
    <div id="company-logo">
        <img src="/Logo-ETI.png" alt="Company Logo">
        <div class="company-name">Estudios T√©cnicos, Inc.</div>
    </div>
    
    <div id="controls">
     <div id="controls">
        <h3>üó∫Ô∏è Visor de Concentraci√≥n</h3>
        
        <button id="show-info" class="btn-info">‚ÑπÔ∏è Acerca de este an√°lisis</button>
        
        <div class="control-section">
            <label for="layer-selector"><strong>Capa de An√°lisis:</strong></label>
            <select id="layer-selector">
                <option value="">Cargando...</option>
            </select>
        </div>
        
        <div id="layer-info" class="info-box">
            <small>Cargando...</small>
        </div>
        
        <div class="control-section">
            <label for="base-layer"><strong>Mapa Base:</strong></label>
            <select id="base-layer">
                <option value="streets">Calles</option>
                <option value="satellite">Sat√©lite</option>
                <option value="dark">Oscuro</option>
            </select>
        </div>
        
        <div class="control-section">
            <label for="opacity-slider"><strong>Opacidad:</strong> <span id="opacity-value">70%</span></label>
            <input type="range" id="opacity-slider" min="0" max="100" value="70">
        </div>
        
        <div class="control-section">
            <button id="toggleLayer" class="btn">Ocultar Capa</button>
        </div>
    </div>
    
    <div id="loading">
        <div class="spinner"></div>
        <p>Cargando datos de concentraci√≥n...</p>
    </div>
    
    <script type="module" src="/main.js"></script>
</body>
</html>